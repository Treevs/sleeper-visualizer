(this["webpackJsonpsleeper-visualizer"]=this["webpackJsonpsleeper-visualizer"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(20),c=n.n(s),i=(n(26),n(21)),o=n(6),u=n(3),l=n.n(u),d=n(8),j=n(4),f=(n(28),n(0));var p=function(e){return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"team",children:[Object(f.jsx)("span",{className:"team-name",children:e.user.teamName})," ",Object(f.jsxs)("span",{className:"user-name",children:["@",e.user.userName]})]}),Object(f.jsxs)("div",{className:"points",children:[" ",e.user.points.toFixed(2)," points"]})]})};var b=function(e){var t=e.medians2021,n=e.medians2022;return Object(f.jsx)("div",{className:"table-container",children:Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Week"}),Object(f.jsx)("th",{children:"Median 2021"}),Object(f.jsx)("th",{children:"Median 2022"}),Object(f.jsx)("th",{children:"Change"})]})}),Object(f.jsx)("tbody",{children:n.map((function(e,n){var r,a=(e-t[n]).toFixed(2);return r=0===e?Object(f.jsx)("td",{children:"N/A"}):a>0?Object(f.jsxs)("td",{className:"positive",children:["+",a]}):Object(f.jsx)("td",{className:"negative",children:a}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:n+1}),Object(f.jsx)("td",{children:t[n].toFixed(2)}),Object(f.jsx)("td",{children:e.toFixed(2)}),r]},n)}))})]})})},h=n(30);var v=function(){var e="846861408397283328",t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)([]),u=Object(j.a)(c,2),v=u[0],O=u[1],x=Object(r.useState)([]),m=Object(j.a)(x,2),g=m[0],k=m[1],N=Object(r.useState)([]),w=Object(j.a)(N,2),y=w[0],S=w[1],F=Object(r.useState)("after"),P=Object(j.a)(F,2),C=P[0],I=P[1],_=Object(r.useState)(0),E=Object(j.a)(_,2),M=E[0],z=E[1],A=Object(r.useRef)(null),B=function(e){I(e.target.dataset.operation)},J=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=C,e.next="after"===e.t0?3:"before"===e.t0?5:7;break;case 3:return R(),e.abrupt("break",9);case 5:return U(),e.abrupt("break",9);case 7:console.log("Unknown operation, defaulting to 'after'"),R();case 9:q();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("https://api.sleeper.app/v1/league/".concat(t,"/users"));case 2:return n=e.sent,console.log("users",n.data),e.next=6,h.get("https://api.sleeper.app/v1/league/".concat(t,"/rosters"));case 6:return r=e.sent,e.abrupt("return",{users:n.data,rosters:r.data});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=1;case 2:if(!(r<=18)){e.next=10;break}return e.next=5,h.get("https://api.sleeper.app/v1/league/".concat(t,"/matchups/").concat(r));case 5:a=e.sent,n.push(a.data);case 7:r++,e.next=2;break;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t,n=e.users,r=e.rosters,a=e.matchups,s=[],c=Object(o.a)(n);try{var i=function(){var e,n=t.value,a=n.user_id,c=r.find((function(e){return e.owner_id===a})).roster_id,i={userId:a,userName:null===n||void 0===n?void 0:n.display_name,teamName:null===n||void 0===n||null===(e=n.metadata)||void 0===e?void 0:e.team_name,weeklyPointsScored:[],rosterId:c};s[c-1]=i};for(c.s();!(t=c.n()).done;)i()}catch(f){c.e(f)}finally{c.f()}var u,l=Object(o.a)(a);try{for(l.s();!(u=l.n()).done;)for(var d=u.value,j=0;j<s.length;j++)s[j].weeklyPointsScored.push(d[j].points)}catch(f){l.e(f)}finally{l.f()}return s},R=function(){var e,t=a,n=Object(o.a)(t);try{for(n.s();!(e=n.n()).done;)for(var r=e.value,s=0,c=r.weeklyPointsScored,i=M;i<17;i++)s+=c[i],r.points=s}catch(u){n.e(u)}finally{n.f()}},U=function(){var e,t=a,n=Object(o.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,s=0;r.points=0;for(var c=r.weeklyPointsScored,i=0;i<M;i++)s+=c[i],r.points=s}}catch(u){n.e(u)}finally{n.f()}},W=function(e){var t,n=[],r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value.sort((function(e,t){return e.points-t.points})),s=a.length/2,c=a.length/2-1,i=(a[s].points+a[c].points)/2;n.push(i)}}catch(u){r.e(u)}finally{r.f()}return n},q=function(){var e=Object(i.a)(a);e.sort((function(e,t){return parseFloat(t.points)-parseFloat(e.points)})),O(e)},G=function(){var t=Object(d.a)(l.a.mark((function t(){var n,r,a,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:return n=t.sent,r=n.users,a=n.rosters,t.next=7,T("735219808769003520");case 7:return c=t.sent,t.next=10,T(e);case 10:return i=t.sent,t.next=13,s(D({users:r,rosters:a,matchups:i}));case 13:return t.next=15,k(W(c));case 15:return t.next=17,S(W(i));case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){G()}),[]),Object(r.useEffect)((function(){var e;null===(e=A.current)||void 0===e||e.focus(),J()}),[a,M,C]),Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("div",{className:"points-scored-container",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsxs)("div",{className:"left",children:["after"===C&&Object(f.jsx)("span",{children:"Points scored after week"}),"before"===C&&Object(f.jsx)("span",{children:"Points scored before (and including) week"}),Object(f.jsx)("input",{type:"text",ref:A,value:M,onChange:function(e){var t=parseInt(e.target.value);(""===t||isNaN(t))&&(t=0),t>18&&(t%=10),t<0&&(t=0),z(t)}})]}),Object(f.jsxs)("div",{className:"right",children:["after"===C&&Object(f.jsx)("span",{className:"fake-link","data-operation":"before",onClick:B,children:"Switch to before"}),"before"===C&&Object(f.jsx)("span",{className:"fake-link","data-operation":"after",onClick:B,children:"Switch to after"})]})]}),v.map((function(e){return Object(f.jsx)(p,{user:e,week:M},e.userId)}))]}),Object(f.jsx)("div",{className:"median-container",children:Object(f.jsx)(b,{medians2021:g,medians2022:y})})]})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),O()}},[[49,1,2]]]);
//# sourceMappingURL=main.6db1378d.chunk.js.map