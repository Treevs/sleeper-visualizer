(this["webpackJsonpsleeper-visualizer"]=this["webpackJsonpsleeper-visualizer"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(20),c=n.n(s),o=(n(26),n(21)),i=n(6),u=n(3),l=n.n(u),f=n(7),p=n(8),d=(n(28),n(0));var b=function(e){return Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"team",children:[Object(d.jsx)("span",{className:"team-name",children:e.user.teamName})," ",Object(d.jsxs)("span",{className:"user-name",children:["@",e.user.userName]})]}),Object(d.jsxs)("div",{className:"points",children:[" ",e.user.points.toFixed(2)," points"]})]})},j=n(30);var v=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),c=Object(p.a)(s,2),u=c[0],v=c[1],h=Object(r.useState)("after"),O=Object(p.a)(h,2),m=O[0],x=O[1],k=Object(r.useState)(0),g=Object(p.a)(k,2),w=g[0],y=g[1],N=Object(r.useRef)(null),S=function(e){x(e.target.dataset.operation)},P=function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=m,e.next="after"===e.t0?3:"before"===e.t0?5:7;break;case 3:return _(),e.abrupt("break",9);case 5:return E(),e.abrupt("break",9);case 7:console.log("Unknown operation, defaulting to 'after'"),_();case 9:z();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("https://api.sleeper.app/v1/league/".concat(t,"/users"));case 2:return n=e.sent,e.next=5,j.get("https://api.sleeper.app/v1/league/".concat(t,"/rosters"));case 5:return r=e.sent,e.abrupt("return",{users:n.data,rosters:r.data});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=1;case 2:if(!(r<=18)){e.next=10;break}return e.next=5,j.get("https://api.sleeper.app/v1/league/".concat(t,"/matchups/").concat(r));case 5:a=e.sent,n.push(a.data);case 7:r++,e.next=2;break;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t,n=e.users,r=e.rosters,a=e.matchups,s=[],c=Object(i.a)(n);try{var o=function(){var e,n=t.value,a=n.user_id,c=r.find((function(e){return e.owner_id===a})).roster_id,o={userId:a,userName:null===n||void 0===n?void 0:n.display_name,teamName:null===n||void 0===n||null===(e=n.metadata)||void 0===e?void 0:e.team_name,weeklyPointsScored:[],rosterId:c};s[c-1]=o};for(c.s();!(t=c.n()).done;)o()}catch(d){c.e(d)}finally{c.f()}var u,l=Object(i.a)(a);try{for(l.s();!(u=l.n()).done;)for(var f=u.value,p=0;p<s.length;p++)s[p].weeklyPointsScored.push(f[p].points)}catch(d){l.e(d)}finally{l.f()}return s},_=function(){var e,t=n,r=Object(i.a)(t);try{for(r.s();!(e=r.n()).done;)for(var a=e.value,s=0,c=a.weeklyPointsScored,o=w;o<17;o++)s+=c[o],a.points=s}catch(u){r.e(u)}finally{r.f()}},E=function(){var e,t=n,r=Object(i.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value,s=0;a.points=0;for(var c=a.weeklyPointsScored,o=0;o<w;o++)s+=c[o],a.points=s}}catch(u){r.e(u)}finally{r.f()}},z=function(){var e=Object(o.a)(n);e.sort((function(e,t){return parseFloat(t.points)-parseFloat(e.points)})),v(e)};return Object(r.useEffect)(Object(f.a)(l.a.mark((function e(){var t,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Render"),e.next=3,F("735219808769003520");case 3:return t=e.sent,n=t.users,r=t.rosters,e.next=8,C("735219808769003520");case 8:return s=e.sent,e.next=11,a(I({users:n,rosters:r,matchups:s}));case 11:case"end":return e.stop()}}),e)}))),[]),Object(r.useEffect)((function(){var e;null===(e=N.current)||void 0===e||e.focus(),P()}),[n,w,m]),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("div",{className:"left",children:["after"===m&&Object(d.jsx)("span",{children:"Points scored after week"}),"before"===m&&Object(d.jsx)("span",{children:"Points scored before (and including) week"}),Object(d.jsx)("input",{type:"text",ref:N,value:w,onChange:function(e){var t=parseInt(e.target.value);(""===t||isNaN(t))&&(t=0),t>18&&(t%=10),t<0&&(t=0),y(t)}})]}),Object(d.jsxs)("div",{className:"right",children:["after"===m&&Object(d.jsx)("span",{className:"fake-link","data-operation":"before",onClick:S,children:"Switch to before"}),"before"===m&&Object(d.jsx)("span",{className:"fake-link","data-operation":"after",onClick:S,children:"Switch to after"})]})]}),u.map((function(e){return Object(d.jsx)(b,{user:e,week:w},e.userId)}))]})})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),h()}},[[49,1,2]]]);
//# sourceMappingURL=main.85c778de.chunk.js.map